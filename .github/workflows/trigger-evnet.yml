name: trigger event

on: 
  pull_request:
    types: [opened, reopened]

jobs:
  trigger-event:
    runs-on: ubuntu-latest
    steps:
      - run: |
          gh api \
          --method POST \
          -H "Accept: application/vnd.github+json" \
          -H "X-GitHub-Api-Version: 2022-11-28" \
          /repos/heenahan/github-action/dispatches \
          -f "event_type=event" \
          -F "client_payload[pull_request]=${{ github.event.pull_request }}"
        env:
          GITHUB_TOKEN: ${{ secrets.PRIVATE_ACCESS }}
